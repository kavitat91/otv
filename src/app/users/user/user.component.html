<div class="lds-roller" *ngIf="loadingIndicator">
  <div></div>
  <div></div>
  <div></div>
  <div></div>
  <div></div>
  <div></div>
  <div></div>
  <div></div>
</div>
  
<section class="pull-left w-100 padding-top-80 relative-content" *ngIf="page == 'accountdetails'">
  <div class="container">
    <div class="row">
      <div class="wrapper" [ngStyle]="{'min-height': contentHeight+'px'}">
        <div class="static-page small-page account_details_page">
          <div class="static-content-bg">
            <div class="row">
              <div
                class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col- onboarding-box-wrap margin-bottom-0 desktop-margin-top-15">
                <h1 class="block margin-bottom-25 page-title">Account Details</h1>
                <div class="pull-left w-100 border-bottom2 margin-bottom-25">
                  <h6 class="pull-left">Your Details</h6>
                  <a routerLink="/users/update_personal_details"
                    class="text-uppercase pull-right btn-oria btn-oria-small">Update</a>
                </div>
                <div class="pull-left w-100 margin-bottom-25">
                  <label class="margin-bottom-0 margin-left-10">Name</label>
                  <br>
                  <span class="margin-left-10">{{ user?.firstname }}</span>
                </div>
                <div class="pull-left w-100 margin-bottom-25">
                  <label class="margin-bottom-0 margin-left-10">Mobile Number</label>
                  <br>
                  <span class="margin-left-10">{{ user?.mobile_number?.length > 0 ? user?.mobile_number : "-" }}</span>
                </div>
                <div class="pull-left w-100 margin-bottom-25">

                  <label class=" margin-bottom-0 margin-left-10">Email</label>
                  <br>
                  <span class="margin-left-10">
                    {{ user?.email_id?.length > 0 ? user?.email_id : "-" }}
                  </span>
                </div>
                <div class="pull-left w-100 margin-bottom-25">
                  <label class="margin-bottom-0 margin-left-10">Birth Date</label>
                  <br>
                  <span class="margin-left-10">{{ user?.birthdate?.length > 0 ? user?.birthdate : "-" }}</span>
                </div>
                <div class="pull-left w-100 border-bottom2 margin-bottom-25">
                  <h6 class="pull-left">Security Details</h6>
                  <a routerLink="/users/change_password" class="text-uppercase pull-right btn-oria btn-oria-small">Change</a>
                </div>
                <div class="pull-left w-100 margin-bottom-0">
                  <label class="margin-bottom-0 margin-left-10">Password</label>
                  <br>
                  <span class="margin-left-10 label_pwd">******</span>
                </div>

              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
 
</section>

<section class="pull-left w-100 padding-top-80 relative-content" *ngIf="page == 'updatepersonaldetails'">
  <div class="container">
    <div class="row">
      <div class="wrapper" [ngStyle]="{'min-height': contentHeight+'px'}">
        <div class="static-page small-page account_details_page">
          <div class="static-content-bg">
            <div class="row">
              <div
                class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col- onboarding-box-wrap margin-bottom-0 desktop-margin-top-15">
                <h1 class="block margin-bottom-0 page-title">Update Personal Details</h1>
                <div class="pull-left w-100 padding-top-45 relative-content">
                  <div class="w-100 all_error padding-left-0 padding-right-0">
                    <label class="error" id="profile_sucess_up_msg" *ngIf="backendMessageStatus">Profile updated
                      sucessfully</label>
                  </div>
                  <form #updateUserForm="ngForm" (ngSubmit)="onUpdateUser(updateUser)">
                    <input type="hidden" name="" class="login_type" value="">
                    <div class="input-group name edit_profile_name"
                      [ngClass]="{'has-error': user_profile_name.touched && user_profile_name.invalid }">
                      <input type="text" id="user_profile_name" name="user_profile_name name" class="form-control"
                        value="{{ user?.firstname }}" #user_profile_name="ngModel" [(ngModel)]="updateUser.user_profile_name" required>
                      <span class="input-label" [ngClass]="{'input-label-focused': (user_profile_name.touched && user_profile_name?.value) || (user?.firstname.length > 0 )  }">Name</span>
                      <label class="error" id="user_name_error"
                        *ngIf="user_profile_name.touched && user_profile_name.invalid">Name can't be blank</label>
                    </div>
                    <input type="hidden" id="reg" name="user_region" value="IN">
                    <div class="input-group name country">
                      <input type="text" name="country_code_details"
                        class="country_code country_code_details form-control" value="+91" readonly *ngIf="countryCodeStatus">
                      <input type="number" id="user_mobile_number" name="user_mobile_number" class="form-control"
                        [attr.readonly]="isMobileReadOnly" value="{{ user?.mobile_number }}" #user_mobile_number="ngModel"
                        [(ngModel)]="updateUser.user_mobile_number" (focus)="focusCountryLogin();"
                        (focusout)="focusOutCountryLogin($event)">
                      <span class="input-label" [ngClass]="{'input-label-focused': (user_mobile_number.touched && user_mobile_number?.value) || (user?.mobile_number?.length > 0) }">Mobile Number</span>
                      <label class="error" id="user_mobile_error"
                        *ngIf="user_mobile_number.touched && user_mobile_number.invalid">This field is mandatory</label>
                    </div>
                    <div class="input-group name edit_profile_name">
                      <input type="email" id="user_email_address" name="user_email_address" class="form-control"
                        [attr.readonly]="isEmailReadOnly" value="{{ user?.email_id }}" #user_email_address="ngModel"
                        [(ngModel)]="updateUser.user_email_address">
                      <span class="input-label"
                        [ngClass]="{'input-label-focused': (user_email_address.touched && user_email_address?.value?.length > 0) || (user?.email_id?.length > 0) }">Email</span>
                      <label class="error" id="user_email_error"
                        *ngIf="user_email_address.touched && user_email_address.invalid">This field is mandatory</label>
                    </div>
                    <div class="input-group margin-bottom-5">
                      <input type="text" id="datepicker" name="datepicker" class="form-control" value="{{ user?.birthdate }}"
                        #datepicker="ngModel" [(ngModel)]="updateUser.datepicker">
                      <span class="input-label"
                        [ngClass]="{'input-label-focused': (datepicker.touched && datepicker?.value?.length > 0) || (user?.birthdate.length > 0) }">Birth
                        Date</span>
                      <!-- <label class="error" id="user_dob_error" *ngIf="datepicker.touched && datepicker.invalid">This field is mandatory</label> -->
                    </div>
                    <div class="margin-bottom-10 input-group center-align-content">
                      <!-- <input class="text-uppercase btn-oria btn-oria-big" id="update_personal_details"
                        [disabled]="updateUserForm.invalid" value="Done"> -->
                        <input type="submit" class="text-uppercase btn-oria btn-oria-big" id="update_personal_details"
                        value="Done">
                    </div>
                    <!-- {{updateUser | json}} -->
                  </form>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="toster-message-wrap" id="update_personal_details_toast" *ngIf="updateUserToast">
    <div class="center-align-content">
      <div class="toster-message">
        <img src="/assets/images/tick.svg" alt="" title="">
        <p id="watch_later_message">
          Profile details updated successfully
        </p>
      </div>
    </div>
  </div>

</section>

<section class="pull-left w-100 padding-top-80 relative-content" *ngIf="page == 'changepassword'">
  <div class="container">
    <div class="row">
      <div class="wrapper" [ngStyle]="{'min-height': contentHeight+'px'}">  
        <div class="static-page small-page account_details_page">
          <div class="static-content-bg">
            <div class="row">
              <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col- onboarding-box-wrap margin-bottom-0 desktop-margin-top-15">
                <h1 class="block margin-bottom-25 page-title">Change Password</h1>
                <div class="pull-left w-100 padding-top-25">
                  <!--  <div class="w-100 all_error padding-left-0 padding-right-0">
                    <label class="error" id="password_sucess_up_msg">Password updated sucessfully</label>
                  </div> -->
                    
                    <!-- <div class="toster-message-wrap" id="password_sucess_up_msg" *ngIf="updatePasswordToast">
                      <div class="center-align-content">
                        <div class="toster-message">
                          <img src="/assets/images/tick.svg" alt="" title="">
                          <p id="watch_later_message" class="oriya-color3">
                          Password updated sucessfully
                          </p>
                        </div>
                      </div>
                    </div> -->
                  <form #changePasswordForm="ngForm" (ngSubmit)="onChangePassword(changePassword)">  
                    
                    <div class="input-group hide_password_group">
                      <input [type]="showPassword1 ? 'text' : 'password'" id="old_change_password" name="old_change_password" class="form-control" #old_change_password="ngModel" [(ngModel)]="changePassword.old_change_password" minlength="6" maxlength="20" required> 
                      <img src="/assets/images/hide_password.svg" class="password_toggle" alt="hide password" title="hide password" *ngIf="!showPassword1" (click)="togglePassword1();">
                      <img src="/assets/images/show_password.svg" class="password_toggle show_pwd" alt="show password" title="show password" *ngIf="showPassword1"
                      (click)="togglePassword1();">
                      <span class="input-label" [ngClass]="{'input-label-focused': old_change_password.touched && old_change_password?.value?.length > 0 }">Old Password</span>
                      <label class="error" id="change_password_error" *ngIf="old_change_password.errors?.required && old_change_password.touched">Please Enter the Old password</label>
                      <label class="error" id="change_password_error" *ngIf="old_change_password.errors?.minlength && old_change_password.errors?.maxlength && new_change_confirm_password.touched">Old Password should be minimum 6 and maximum 20 characters</label>
                    </div>
  
                    <div class="input-group hide_password_group">
                      <input [type]="showPassword2 ? 'text' : 'password'" id="new_change_password" name="new_change_password" class="form-control" #new_change_password="ngModel" [(ngModel)]="changePassword.new_change_password" minlength="6" maxlength="20" required> 
                      <img src="/assets/images/hide_password.svg" class="password_toggle" alt="hide password" title="hide password" *ngIf="!showPassword2" (click)="togglePassword2();">
                      <img src="/assets/images/show_password.svg" class="password_toggle show_pwd" alt="show password" title="show password" *ngIf="showPassword2"
                      (click)="togglePassword2();">
                      <span class="input-label" [ngClass]="{'input-label-focused': new_change_password.touched && new_change_password?.value?.length > 0 }">New Password</span>
                      <label class="error" id="new_change_password_error" *ngIf="new_change_password.errors?.required && new_change_password.touched">Please Enter the new password</label>
                      <label class="error" id="new_change_password_error" *ngIf="new_change_password.errors?.minlength && new_change_password.errors?.maxlength && new_change_confirm_password.touched">New Password should be minimum 6 and maximum 20 characters</label>
                    </div>
  
                    <div class="input-group hide_password_group margin-bottom-5">
                      <input [type]="showPassword3 ? 'text' : 'password'" id="new_change_confirm_password" name="new_change_confirm_password" class="form-control" #new_change_confirm_password="ngModel" [(ngModel)]="changePassword.new_change_confirm_password" minlength="6" maxlength="20" required> 
                      <img src="/assets/images/hide_password.svg" class="password_toggle" alt="hide confirm password" title="hide confirm password" *ngIf="!showPassword3" (click)="togglePassword3();">
                      <img src="/assets/images/show_password.svg" class="password_toggle show_pwd" alt="show confirm password" title="show confirm password" *ngIf="showPassword3"
                      (click)="togglePassword3();">
                      <span class="input-label" [ngClass]="{'input-label-focused': new_change_confirm_password.touched && new_change_confirm_password?.value?.length > 0 }">Confirm New Password</span>
                      <label class="error" id="new_change_confirm_password_error" *ngIf="new_change_confirm_password.errors?.required && new_change_confirm_password.touched">Please Enter the new confirm password</label>
                      <label class="error" id="new_change_confirm_password_error" *ngIf="new_change_confirm_password.errors?.minlength && new_change_confirm_password.errors?.maxlength && new_change_confirm_password.touched">New Confirm Password should be minimum 6 and maximum 20 characters</label>
                      <label class="error" id="new_change_confirm_password_error" *ngIf="new_change_confirm_password.touched && new_change_confirm_password.dirty && new_change_password.value != new_change_confirm_password.value">New Password and Confirm new Password do not match</label>
                    </div>
  
                    <div class="margin-bottom-10 input-group center-align-content">
                      <input type="submit" class="text-uppercase btn-oria btn-oria-big" id="change_pwd_sub" value="confirm" [disabled]="changePasswordForm.invalid">     
                    </div>

                  </form>  
                  
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="toster-message-wrap change_passowrd_toast" id="change_passowrd_toast" *ngIf="changePasswordToast">
    <div class="center-align-content">
      <div class="toster-message">
        <img src="/assets/images/wrong_mark.svg" alt="user account update" title="user account update">
        <p class="change_password_message">
          <!-- Old and New passwords are the same. Please enter a different 'New Password' -->
          {{statusMessage}}
        </p>
      </div>
    </div>  
  </div>
</section>

  <section class="pull-left w-100 padding-top-80 relative-content" *ngIf="page == 'resetpassword'">
    <div class="container">
      <div class="row">
        <div class="wrapper min-height-div" [ngStyle]="{'min-height': contentHeight+'px'}">  
          <div class="static-page small-page account_details_page">
            <div class="static-content-bg">
              <div class="row">
                <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col- onboarding-box-wrap margin-bottom-0 desktop-margin-top-15">
                  <h1 class="block margin-bottom-25 page-title">Reset Password</h1>
                  <div class="pull-left w-100 padding-top-25">
                   <!--  <div class="w-100 all_error padding-left-0 padding-right-0">
                      <label class="error" id="password_sucess_up_msg">Password updated sucessfully</label>
                    </div> -->
                    <form #resetPasswordForm="ngForm" (ngSubmit)="onResetPassword(resetPassword)">                
                      <div id="ResetPassword" class="tab-pane fade in active">
                        <div class="input-group hide_password_group signup_password_us">
                          <input [type]="showPassword4 ? 'text' : 'password'" id="reset_pwd" name="reset_pwd" class="form-control user_password" maxlength="20" value="" required
                          #reset_pwd="ngModel" [(ngModel)]="resetPassword.reset_pwd"> 
                          <img src="/assets/images/hide_password.svg" class="password_toggle" alt="hide password" title="hide password" *ngIf="!showPassword4" (click)="togglePassword4();">
                          <img src="/assets/images/show_password.svg" class="password_toggle show_pwd" alt="show password" title="show password" *ngIf="showPassword4" (click)="togglePassword4();">
                          <span class="input-label" [ngClass]="{'input-label-focused': reset_pwd.touched && reset_pwd?.value?.length > 0 }">Password</span>
                          <label class="error" id="reset_cnfm_pwd_error" *ngIf="reset_pwd.errors?.required && reset_pwd.touched">Password can't be blank</label>
                          <label class="error" id="reset_cnfm_pwd_error" *ngIf="reset_pwd.errors?.minlength && reset_pwd.errors?.maxlength && reset_pwd.touched">Password should be minimum 6 and maximum 20 characters</label>
                        </div>
                        <div class="input-group hide_password_group signup_password_us">
                          <input [type]="showPassword5 ? 'text' : 'password'" id="reset_con_pwd" name="reset_con_pwd" class="form-control user_password" maxlength="20" value="" required
                          #reset_con_pwd="ngModel" [(ngModel)]="resetPassword.reset_con_pwd"> 
                          <img src="/assets/images/hide_password.svg" class="password_toggle" alt="hide password" title="hide password" *ngIf="!showPassword5" (click)="togglePassword5();">
                          <img src="/assets/images/show_password.svg" class="password_toggle show_pwd" alt="show password" title="show password" *ngIf="showPassword5" (click)="togglePassword5();">
                          <span class="input-label" [ngClass]="{'input-label-focused': reset_con_pwd.touched && reset_con_pwd?.value?.length > 0 }">Confirm Password</span>
                          <label class="error" id="reset_cnfm_pwd_error" *ngIf="reset_con_pwd.errors?.required && reset_con_pwd.touched">Confirm Password can't be blank</label>
                          <label class="error" id="reset_cnfm_pwd_error" *ngIf="reset_con_pwd.touched && reset_con_pwd.dirty && reset_pwd.value != reset_con_pwd.value">Password and Confirm Password do not match</label>
                        </div>   
                        <div class="text-center margin-bottom-20 margin-top-25 light">            
                          <input type="submit" class="text-uppercase btn-oria btn-oria-big" id="reset_pwd_sub" value="Reset" [disabled]="resetPasswordForm.invalid">           
                        </div>
                      </div>
                    </form>  
                    
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
     <div class="toster-message-wrap reset_passowrd_toast" id="reset_passowrd_toast" *ngIf="resetPasswordToast">
        <div class="center-align-content">
          <div class="toster-message">
            <img src="/assets/images/wrong_mark.svg" alt="user account update" title="user account update">
            <p class="change_password_message">
              <!-- Old and New passwords are the same. Please enter a different 'New Password' -->
              {{statusMessage}}
            </p>
          </div>
        </div>  
      </div>
  </section>
                    
<section class="pull-left w-100 padding-top-80 relative-content" *ngIf="page == 'watchlist'">
  <div class="container">
    <div class="row">
      <div class="wrapper min-height-div" [ngStyle]="{'min-height': contentHeight+'px'}">	
      
        <div class="row">
          <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col- margin-bottom-0">
            <section class="content padding-top-20 padding-bottom-40">
              <div class="row">
                <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col- margin-bottom-10">
                  <h1 class="text-capitalize pull-left w-100 ms-color2 font-sbold page-title">Watch List</h1>				
                  
                  <div class="thumbnail-list-wrap shows-list-page" *ngIf="watch_list_items_count > 0">
                    <ng-container *ngFor="let w of watch_list_items; let i = index; ">
                      <div class="thumbnail-list-box margin-bottom-20 relative-content" id="item_{{w['listitem_id']}}">
                        <div class="item">
                          <a routerLink="{{w['item_url']}}">
                            <img src='{{w["thumbnails"]["medium_16_9"]["url"]}}'>
                          </a>
                          <p class="pull-left wathlist_option1">
                            <label class="oriya-color1 block w-100 margin-bottom-0 text-ellipsis margin-top-5">{{w['title']}}</label>
                            <span class="pull-left w-100 oriya-color2 text-ellipsis">{{w['item_caption']}}</span>
                          </p>
                          <p class="pull-right wathlist_option2 margin-top-5">
                            <span class="pull-right">
                              <img src="/assets/images/delete.svg" (click)="removeWatchList(w['listitem_id'])" class="remove delete_watch_item cursor-pointer" alt="Delete Watch List" title="Delete Watch List" id='{{w["listitem_id"]}}'>
                            </span>
                          </p>
                        </div>
                      </div>
                    </ng-container>                      
                  </div>

                  <div class="row" id="no_search_results_wrap" *ngIf="watch_list_items_count == 0">
                    <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col- no-content-wrap text-center" id="no_search_results">
                      <p class="margin-bottom-5 font-medium ms-color2"><strong>Create your list now!</strong></p>
                      <p class="font-light margin-bottom-25 ms-color5">Add movies, shows and songs to your Watchlist by pressing the 'Watch Later' button.</p>
                      <div class="text-center margin-bottom-10 margin-top-5 light">
                        
                        <a [routerLink]="['/']" class="text-uppercase btn-oria btn-oria-big font-bold">Browse</a>
                        
                      </div>
                    </div>  
                  </div>                  
                  
                </div>
              </div>
            </section>

            <div class="toster-message-wrap" id="watch_list_delete_toast" *ngIf="deleteWatchlist">
              <div class="center-align-content">
                <div class="toster-message">
                  <img src="/assets/images/tick.svg" alt="" title="">
                  <p id="watch_later_message">
                    Item  deleted successfully
                  </p>
                </div>
              </div>
            </div> 

          </div>
        </div>        

      </div>
    </div>
  </div>
</section>        
